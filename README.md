# ğŸ“Š Keeta KPI Dashboard (Flask)

A **Flask-based Customer Support KPI Dashboard** that provides an aggregated, filterable view of operational metrics such as chats, response times, CSAT, ticket status, agent activity, and sales conversions.

This project is designed for **operations teams, team leaders, and supervisors** to monitor performance trends and make data-driven decisions.

---

## ğŸš€ Overview

The Keeta KPI Dashboard loads support data from a CSV file and exposes an `/overall` route that renders a comprehensive dashboard with:

* High-level KPI cards
* Sparkline trends for each KPI
* Dynamic filters (Agent, Team Leader, Supervisor, Date Range)
* Safe KPI calculations with empty-data handling

The dashboard is server-rendered using **Flask + Jinja2**, making it lightweight and easy to deploy.

---

## âœ¨ Features

### ğŸ” Dynamic Filters

* Agent
* Team Leader
* Supervisor
* Date range (From / To)

Filters are applied via query parameters and update all KPIs and trends instantly.

---

### ğŸ“ˆ KPI Metrics

The dashboard calculates the following KPIs:

* **Total Chats**
* **Average Response Time (sec)**
* **Average CSAT (%)**
* **Active Agents**
* **Escalations**
* **Resolved Tickets (%)**
* **Pending Tickets**
* **Average Chat Duration (min)**
* **Sales Conversions (%)**
* **Average Queue Time (sec)**

All metrics are computed safely, with fallbacks when data is missing or empty.

---

### ğŸ“‰ KPI Trends (Sparklines)

Each KPI includes a trend dataset generated by:

* Grouping by `day` (if available)
* Using **sum** for volume metrics
* Using **mean** for rate-based metrics

These trends are designed for lightweight sparkline charts in the UI.

---

## ğŸ›  Tech Stack

* **Backend:** Flask
* **Templating:** Jinja2
* **Data Processing:** Pandas, NumPy
* **Data Source:** CSV file
* **Frontend:** HTML / CSS / JavaScript (charts rendered client-side)

---

## ğŸ“‚ Project Structure

```bash
.
â”œâ”€â”€ app.py
â”œâ”€â”€ data/
â”‚   â””â”€â”€ data.csv
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ overall.html
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

---

## â–¶ï¸ Getting Started

### 1ï¸âƒ£ Install Dependencies

```bash
pip install flask pandas numpy
```

Or using `requirements.txt`:

```bash
pip install -r requirements.txt
```

---

### 2ï¸âƒ£ Run the Application

```bash
python app.py
```

The server will start on:

```
http://localhost:5000
```

---

### 3ï¸âƒ£ Access the Dashboard

```
http://localhost:5000/overall
```

You can apply filters using query parameters, for example:

```
/overall?agent=Ahmed&team_leader=Sara&from_date=2025-01-01&to_date=2025-01-31
```

---

## ğŸ“Š Data Requirements

The CSV file (`data/data.csv`) should include the following columns:

* `day`
* `agent`
* `team_leader`
* `supervisor`
* `total_chats`
* `avg_response_time`
* `csat`
* `active_agents`
* `escalations`
* `resolved`
* `pending`
* `avg_chat_duration`
* `sales_conversion`
* `avg_queue_time`

> Additional columns are ignored safely.

---

## ğŸ” Error Handling & Safety

* Empty datasets return default values instead of crashing
* Missing columns are handled gracefully
* NaN values are excluded from calculations

This makes the dashboard reliable for real operational data.

---

## ğŸ“ˆ Future Enhancements

* SQL database support (PostgreSQL / MySQL)
* Authentication & role-based access
* REST API endpoints for KPIs
* Export KPIs to CSV / PDF
* Real-time updates with WebSockets

---

## ğŸ‘¤ Author

**Hussein Ali**
Data Engineer
